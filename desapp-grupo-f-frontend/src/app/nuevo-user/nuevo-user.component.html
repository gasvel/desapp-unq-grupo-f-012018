<div class="container">
  <h2 style="font-family: Poppins, sans-serif">{{'Crear cuenta' | translate}}</h2>
  <img [src]="usuario.controls['imgsrc'].value" class="rounded-circle" alt="profilePic" width="80" height="80">
  <form [formGroup]="usuario" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="cuilInput">CUIL/CUIT ({{'sin guiones' | translate}})</label>
      <input type="string" class="form-control" id="cuilInput" placeholder="20000000013" formControlName="cuil" [class.invalid]="usuario.controls['cuil'].invalid && usuario.controls['cuil'].dirty">
      <small style="color:red" class="error_message" *ngIf="usuario.controls['cuil'].invalid && (usuario.controls['cuil'].submitted || usuario.controls['cuil'].dirty)">Ingrese un número de CUIL válido</small>
    </div>
    <div class="form-group">
      <label for="nameInput">{{'Nombre y apellido' | translate}}</label>
      <input type="string" class="form-control" id="nameInput" placeholder="{{'Nombre completo' | translate}}" formControlName="name" [class.invalid]="usuario.controls['name'].invalid && usuario.controls['name'].dirty">
      <small style="color:red" class="error_message" *ngIf="usuario.controls['name'].invalid && (usuario.controls['name'].submitted || usuario.controls['name'].dirty)">El nombre de usuario debe tener al menos 4 letras</small>
    </div>
    <div class="form-group">
      <label for="addressInput">{{'Direccion' | translate}}</label>
      <input type="string" class="form-control" id="addressInput" placeholder="Humbreto Primo 3598" formControlName="address" [class.invalid]="usuario.controls['address'].invalid && usuario.controls['address'].dirty">
    </div>
    <div class="form-group">
      <label for="mailInput">Mail</label>
      <input disabled type="email" class="form-control" id="mailInput" placeholder="ejemplo@gmail.com" formControlName="email" [class.invalid]="usuario.controls['email'].invalid && usuario.controls['email'].dirty">
    </div>

    <div *ngIf="errorNewUser" class="alert alert-danger" role="alert">
      {{errorNewUserMessage}}
      <button type="button" class="close" (click)="errorNewUser = false" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <button type="submit" class="btn btn-success" [class.buttonInvalid]="validForm()" [disabled]="validForm()">{{'Aceptar' | translate}}</button>
    <button class="btn btn-danger" routerLink="/posts">{{'Atras' | translate}}</button>
  </form>


  
  <div #confirmationModal class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">{{'Confirmacion' | translate}}</h5>
        </div>
        <div class="modal-body">
          <p style="font-family: 'Poppins',sans-serif;color: blue">{{successModalMessage}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" (click)="volverAtras()" class="btn btn-primary" data-dismiss="modal">{{'Inicio' | translate}}</button>
        </div>
      </div>
    </div>
  </div>
  

  <ngx-spinner  
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#B2DFDB"
  loadingText="Cargando..."
  type="ball-pulse">
  </ngx-spinner>


</div>
